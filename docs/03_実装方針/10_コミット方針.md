# コミット粒度の原則

## 核となる考え方
**「独立性と完結性」**
各コミットは単独で意味を持ち、適用可能な状態であること

## 4つの基本原則

### 1. 単一責任の原則
1つのコミット = 1つの論理的変更
- 判断基準:「この変更だけを切り出しても機能するか?」
- 複数の目的が混在していないか確認する

### 2. 適切な抽象度の維持
過度に細分化せず、過度に統合しない
- 小さすぎる:部分的な変更で文脈が失われる
- 大きすぎる:複数の変更が混在し、追跡が困難になる
- 適切:変更の意図と範囲が明確に理解できる

### 3. 明確な記述
コミットメッセージは変更内容を正確に表現する
- 何を(What)変更したかを具体的に
- 曖昧な表現(「修正」「調整」等)を避ける
- 将来の自分や他者が理解できる言葉で

### 4. 段階的な構築
大きな変更は論理的なステップに分解する
- 各ステップが独立して意味を持つように
- 依存関係を考慮した順序で
- 必要に応じて部分的なロールバックを可能にする

## 実践のための問い

コミット前に自問する:
- この変更は1つの明確な目的を持っているか?
- この変更だけを適用/削除しても問題ないか?
- 6ヶ月後に見ても何をしたか理解できるか?
- レビュー者が変更の意図を把握できるか?

## 守ることで得られるメリット
- 保守性が高く、追跡可能で、協働しやすいコミット履歴を作ることができる

## コミット行数の目安
- 基本的には **1コミットを200行以内** とする
- ただし、**必要性があればオーバー可能**（大規模なリファクタや一括置換など、理由が明確な場合）

# コミットメッセージプレフィックス（推奨）

- feat: 新機能追加
- fix: バグ修正
- docs: ドキュメント更新
- style: コード整形 / フォーマット修正
- refactor: リファクタリング（動作変更なし）
- test: テスト追加・修正
- chore: その他（CI設定、ビルド関連など）
