# 品質基準・禁止事項（KnowledgeHub）

## 目的

本ドキュメントは、KnowledgeHub における **コード品質の最低ライン** と
**明確に避けるべき実装** を定義する。

MVP 前提のため、完璧さは求めないが、
「雑に見えない」「後で直せる」状態は必ず担保する。

---

## 品質基準（MVPで必ず守る）

以下は **例外なく守る最低限の品質基準** とする。

* 動作する状態でコミットする（未完成コードを残さない）
* 未使用コード・未使用 import を残さない
* API I/O は必ずスキーマ（Pydantic / TypeScript 型）を経由する
* 例外を握りつぶさない
* 意図の分からない処理を放置しない

---

## 品質基準（MVPでは許容する）

以下は MVP 段階では **意図的に妥協してよい**。

* 型の一部省略（Python / TypeScript）
* `any` の使用（API 境界を除く）
* main.py / App.tsx への一時的な集約
* TODO コメントの残存

---

## 禁止事項（重要）

以下は **MVPであっても禁止** とする。

* 未使用コード・コメントアウトされた古い実装の放置
* print / console.log デバッグの残存
* 意味の分からない命名（01_命名規則.md 参照）
* コピペで増えた重複ロジック
* 仕様が分からない TODO

---

## エラーハンドリング方針

* 失敗は明示的に扱う
* 想定外エラーはそのまま落とさない

```python
if note is None:
    raise HTTPException(status_code=404, detail="Note not found")
```

---

## 静的解析・lint に対する考え方

* 目的は **品質向上ではなく事故防止**
* 警告ゼロを目指さない
* 実装を止めるルールは最小限にする

---

## 判断に迷った場合

以下の順で判断する。

1. 要件定義を満たしているか
2. 後で修正しやすいか
3. 今やらなくても MVP に支障がないか

---

この品質基準は、
**開発速度と将来の修正容易性のバランスを取るための基準**である。
