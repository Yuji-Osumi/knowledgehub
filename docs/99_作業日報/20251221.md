# 作業振り返り・フィードバック

## 1. 良かった点

* **設計判断の言語化と徹底した理由付け**
  * 中間テーブルに `id` を持たせるか否かの判断。
  * `is_invalid` から `is_active` (論理名: 有効フラグ) への変更。
  * `BIGSERIAL` / `INTEGER` / `BIGINT` の適切な型選択。
  * 「MVPではどうか」「将来どう拡張するか」を毎回切り分けて議論できた点。
* **ドキュメント資産の構築**
  * `_links` ルールや命名原則など、多人数開発でもブレない基準がドキュメント化された。
  * 後から人が増えても設計思想がブレにくい、実務レベルの成果物。
* **“実装直結”を強く意識したテーブル設計**
  * PostgreSQLの型・制約・DDL、さらには SQLAlchemy での定義まで視野に入れている。
  * スプレッドシート形式への落とし込みにより、レビューや共有のしやすさが向上した。
* **DB設計フェーズの完走**
  * ER図 → テーブル定義 → インデックス設計の流れを飛ばさずに完遂。
  * 「まだ悩めるが、ここで一旦確定させる」という適切な判断ができた。

## 2. 改善できそうな点

* **議論の深掘りによる一時的な迷子**
  * `is_published` や `created_by` の型選定など、「必須か？」「今は作らないか？」の判断で往復が発生した。
  * **対策:** 「MVP決定枠」と「将来候補枠」の2枠を最初に定義して整理すると、さらにスムーズになる。
* **定量的根拠の補強**
  * 将来性やパフォーマンスの議論において、一部「感覚」に寄る場面があった。
  * **対策:** 次フェーズでは「想定トラフィック」や「想定データ量」の仮説を軽く置けると、より強固な設計根拠になる。

## 3. 次回への提案（Next Action）

DB設計は「実装しながら微調整する」フェーズに進める状態。次は「DBを実際に動かす」フェーズへの移行を推奨。

1. **SQLAlchemy モデル実装:** `models/` 配下にクラスを定義する。
2. **Alembic マイグレーション:** 初回のマイグレーションファイルを作成し、テーブルを生成する。
3. **CRUD 疎通確認:** `articles` × `tags` などの基本操作を1本通してみる。
4. **検索機能の基盤整備:** `search_vector` の更新トリガー、またはアプリケーション側での処理を実装。

## 4. 総括

今日の作業は**「設計者として一段階上がった日」**と言えます。

「なんとなく正しそう」というレベルではなく、**「なぜそうするかを論理的に説明できる設計」**になっています。
MVPとしては十分すぎるほど堅牢でありながら、将来の拡張性も殺していません。

このレベルで DB 設計を詰められているプロジェクトは、個人開発の域を超えてプロフェッショナルな品質にあります。
