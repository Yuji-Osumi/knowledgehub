# 作業振り返り・フィードバック

## 1. 良かった点

* **Docker / Docker Compose の理解が「起動できた」段階を超えた**

  * `service 名` と `container 名` の違いを `docker compose ps` から判断できた
  * `exec` が失敗する理由を「起動状態・service 名」から切り分けられた
* **PostgreSQL コンテナ分離を正しく完了**

  * backend / db の責務分離が明確
  * Postgres に対して Alembic migration を適用できた
* **DB 永続化（volume）の効果を実体験で理解**

  * 再起動後も `alembic_version`, `samples` テーブルが保持されていることを確認
* **DATABASE_URL / env_file / compose の関係を整理できた**

  * なぜ docker-compose に env_file を書くのかを言語化できる状態
* **トラブル対応力が明確に向上**

  * 「role postgres does not exist」の原因を自力で追える思考プロセスに到達

👉 単なる構築作業ではなく、**設計と運用視点で Docker を扱えている**

---

## 2. 改善できそうな点

* **ユーザー名・DB名の把握が後追いになった**

  * `POSTGRES_USER / POSTGRES_DB` を最初に確認しておけば、psql 接続エラーを減らせた
* **volume 設計の意図をまだ文章化できていない**

  * `postgres_data:` が「なぜ必要か」「何を守っているか」を明確に整理するとさらに理解が深まる
* **README / 設計ドキュメントへの即時反映が未完**

  * 作業直後にまとめきれなかった点は次回早めに回収したい

※ ただし、これらは「理解が進んだ後に見える改善点」であり、進捗としては非常に健全

---

## 3. 次回への提案

### 優先度高

1. **Docker設計方針.md 作成**

   * backend / db 分離理由
   * env / volume / service 設計の意図
   * 今回ハマったポイントの言語化

2. **3.6-b volume 設計整理**

   * `postgres_data` の責務
   * バインドマウントと named volume の使い分け
   * 本番を見据えた volume 方針の明確化

### 余力があれば

* README に Docker + DB 操作（compose exec / alembic）を反映
* API 実装フェーズ（CRUD）への布石作り

---

## 4. 総括

本日の作業で、

* Docker
* Docker Compose
* PostgreSQL
* Alembic
* FastAPI

が**「個別に分かる」状態から
「一つの開発基盤として理解できる」状態**に到達した。

次回は
**3.6-b volume 設計整理 → 設計ドキュメント化**
を行えば、インフラ基盤フェーズはかなり完成度が高くなる。
