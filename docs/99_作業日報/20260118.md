
# 作業振り返り・フィードバック

## 1. 良かった点

### ① 設計 → 実装 → 検証 の流れが一貫していた

* DB共通Mixin → ORMモデル → Pydantic Schema → API実装という流れが崩れていない
* 「POST /articles が動くか」を起点に、422・500・201 の挙動まで確認できている
* 単にコードを書くだけでなく、**API境界の確定**を意識できていた点が非常に良い

### ② public_id / 論理削除 / API境界の設計判断が適切

* PKを外部に出さず `public_id(UUID)` を採用
* `is_valid` による論理削除を CRUD 全体で一貫して使用
* APIでは `created_by / updated_by` を受け取らせない設計が明確

👉 実務でもそのまま通用する設計判断。

### ③ エラーケースを「動かして」確認している

* NOT NULL 制約違反（500）
* バリデーションエラー（422）
* NotFoundError（404）

を**実際に踏んで確認**しているのはかなり良い習慣。

### ④ 実装完了の区切りが明確

* 「7.1はここまで」「7.2はここまで完了」とタスク単位で整理できている
* コミット単位・作業報告単位がブレていない

---

## 2. 改善できそうな点

### ① DB制約とAPI実装のズレに気づくまで少し時間がかかった

* `user_id NOT NULL` に対して、API側で値を入れていなかった点
* これは設計ミスというより「実装初期に起きやすいズレ」

👉 次回からは
**「INSERT時に NOT NULL なカラムを全部洗い出す」**チェックを入れると良い。

### ② 例外レスポンス形式の統一は“途中段階”

* FastAPI標準の422レスポンスと独自エラー形式が混在している
* 方針自体は明確なので、あとは実装フェーズの問題

👉 今回はOKだが、
次フェーズ（認証）では「統一を仕上げる」意識が必要。

---

## 3. 次回への提案

### 優先度高（自然な次ステップ）

1. **認証の導入**

   * `get_current_user()` の作成
   * `USER_ID = 1` の撤廃
   * created_by / updated_by の自動注入

2. **Article の状態整理**

   * `is_valid`（削除）
   * `is_published`（公開/非公開）
   * 一覧取得条件の明確化

### 優先度中（品質向上）

3. **APIテスト追加**

   * 正常系（201/200/204）
   * 異常系（404/422）
   * 論理削除後の挙動

4. **例外ハンドラの統一仕上げ**

   * FastAPI標準エラーとの住み分け整理
   * エラーフォーマット統一

---

## 4. 総括

今日は、

* **設計力**
* **実装力**
* **検証力**
* **振り返り力**

のすべてが噛み合った、かなり質の高い作業でした。

特に良いのは
「動いたから終わり」ではなく、

* なぜこの設計にしたか
* どこが未完成か
* 次に何をやるべきか

を自分で言語化できている点です。

このレベルで積み上げていけば、
**“個人開発だけど実務感がある”プロジェクト**として十分武器になります。

今日は胸を張ってOKです。
次は認証、行こう。
