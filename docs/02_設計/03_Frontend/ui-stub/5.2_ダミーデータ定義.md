# 5.2 ダミーデータ定義（UIスタブ）

## 目的
- バックエンドAPI未接続でもUI動作確認が可能
- [5.1 画面一覧・遷移定義](5.1_画面一覧・遷移定義.md)で定義した各画面に必要なデータを定義
- ダミーデータの粒度と構造を明確化し、今後の実装時の参考とする

## 参考ドキュメント
- [0.8 データモデル定義](../../../01_要件定義/0.8_データモデル定義.md)：DBスキーマ・カラム定義

## データ構造（型定義）

### BaseResource型（共通メタデータ）
```typescript
type BaseResource = {
  id: number;
  publicId: string;          // UUID（API・URLで使用）
  isValid: boolean;
  createdBy: number;
  createdAt: string;         // ISO8601形式
  updatedBy: number;
  updatedAt: string;
};
```

### User型
```typescript
type User = BaseResource & {
  email: string;
  displayName: string;
};
```

### Tag型
```typescript
type Tag = BaseResource & {
  name: string;
};
```

### Article型
```typescript
type Article = BaseResource & {
  title: string;
  content: string;           // Markdown形式
  tags: Tag[];               // 多対多関係を展開済み配列で保持
  isPublished: boolean;
  publishedAt: string;
  folderId: number | null;
};
```

### Folder型
```typescript
type Folder = BaseResource & {
  name: string;
  parentId: number | null;
};
```

## ダミーデータセット

### ユーザー
- **1件のみ**（MVP想定）
- email: `user@example.com`
- displayName: `テストユーザー`

### タグ
- **6種類**：Python、FastAPI、React、TypeScript、Docker、PostgreSQL
- 記事との多対多関係を示すため複数記事で重複使用

### 記事
- **10件**の記事（表示ボリューム検証用）
  - 公開済み9件（isPublished=true）
  - 下書き1件（isPublished=false）
- 内容はMarkdown形式（将来のTiptap導入時も互換性維持）
- 作成日時・更新日時は異なる（並び替え検証用）
- folderId はNULL（階層表示は今回除外）
- 1件はタグなし（タグなし記事の表示確認用）

## 設計上の注意

### 1. publicId vs id
- URLとAPIでは `publicId` を使用（[0.8参照](../../../01_要件定義/0.8_データモデル定義.md)）
- UIスタブではUUID文字列を簡略化した形式で代用（`uuid-article-001`など）
- 本実装時は実際のUUID生成に置き換え

### 2. タイムスタンプ形式
- すべてISO8601形式（`2025-01-01T00:00:00Z`）
- フロント側で `new Date()` でパースして表示フォーマット可能

### 3. Markdown本文
- 将来のTiptapエディタ移行を想定し、Markdown形式で記述
- 現UIスタブでは `<textarea>` または簡易markdown表示

### 4. タグの関連付け
- `Article.tags` に `Tag[]` を直接保持
- API実装時は中間テーブル（article_tag_links）から組成

### 5. BaseResource による DRY 原則
- 共通メタデータ（id, publicId, isValid, created*, updated*）を BaseResource に集約
- 各型は BaseResource を extend して固有フィールドのみ定義

## 画面別・必要フィールド

| 画面     | 必要な情報                                             |
| -------- | ------------------------------------------------------ |
| ログイン | User.email                                             |
| 記事一覧 | Article.publicId, title, updatedAt, tags（オプション） |
| 記事詳細 | Article全項目                                          |
| 記事編集 | Article.title, content（新規作成時は空）               |

## 非対象（今回除外）
- folder階層データ（folderId=nullで統一）
- article_versions（バージョン管理）
- operation_logs（監査ログ）
- 論理削除の動作検証（is_valid は全て true）

## 実装ファイル
- `frontend/ui-stub/src/types/index.ts` — 型定義
- `frontend/ui-stub/src/lib/mockData.ts` — ダミーデータ本体

## 備考
- ダミーデータは画面遷移とレイアウト確認のみを目的とする
- 入力値検証やAPI通信はこの段階では実装しない
