# 確定前提（データモデル・設計共通）

本ドキュメントは、KnowledgeHub の要件定義〜設計フェーズにおいて  
**以降の判断の前提として固定する事項**をまとめたものである。

---

## ユーザー

- ユーザーは**原則1人**を想定
- 将来的なマルチユーザー化を考慮し、
  - users テーブルは作成する
  - データは user_id で紐づけ可能な設計とする

---

## 主データ（ナレッジ）

- 管理対象は **Markdownベースのナレッジ**
- 技術メモ・設計メモ・学習記録などを想定
- 1件のナレッジをアプリ内の最小管理単位とする

---

## 検索

- 検索機能は本アプリの**価値の核**と位置付ける
- MVP段階から以下を重視する
  - タイトル検索
  - 本文検索
- 実装は PostgreSQL の全文検索機能を利用する想定
  - `tsvector` カラム導入は設計段階で検討対象とする

---

## 編集

- フロントエンドは **Tiptap** を使用
- 編集データは以下いずれかの形式で保存する
  - Markdown
  - HTML
- MVPでは実装・運用コストを優先し、
  - まずは Markdown もしくは HTML の単一形式保存とする

---

## 認証・認可

- 認証機構は必須とする
- users テーブルを作成し、以下を前提とする
  - Cookieベースのセッション認証
  - パスワードは bcrypt によりハッシュ化
- 個人開発として十分なセキュリティレベルを確保しつつ、
  工数は最小限に抑える

---

## 備考

- 本前提は 0.8 データモデル定義、0.9 API仕様定義の共通前提として扱う
- 変更が発生する場合は、本ドキュメントを更新した上で後続設計に反映する