# 0.11 操作フロー定義（ユースケース）

## 方針

- MVPに必要な最小限の操作フローのみ定義する
- 画面遷移（0.10）とAPI仕様（0.9）に基づく
- 例外系・エラー処理は最小限とし、正常系を中心に整理する

---

## ユースケース一覧（MVP）

- UC-01 ログインする
- UC-02 記事一覧を閲覧する
- UC-03 記事を検索する
- UC-04 記事を閲覧する
- UC-05 記事を新規作成する
- UC-06 記事を編集・保存する
- UC-07 記事を削除する
- UC-08 タグを管理する（簡易）
- UC-09 フォルダを管理する（簡易）

---

## UC-01 ログインする

**アクター**
- ユーザー

**前提条件**
- 未ログイン状態である

**操作フロー**

1. ユーザーがログイン画面を表示する
2. メールアドレス・パスワードを入力する
3. 「ログイン」ボタンを押下する
4. システムは認証情報を検証する（POST /auth/login）
5. 認証成功時、セッションを確立する
6. 記事一覧画面へ遷移する

**代替フロー**

- 認証失敗時、エラーメッセージを表示する

---

## UC-02 記事一覧を閲覧する

**前提条件**
- ログイン済みである

**操作フロー**

1. ユーザーが記事一覧画面を表示する
2. システムは記事一覧を取得する（GET /articles）
3. 記事タイトルと更新日時を一覧表示する

---

## UC-03 記事を検索する

**前提条件**
- ログイン済みである

**操作フロー**

1. ユーザーが検索ボックスにキーワードを入力する
2. 検索を実行する
3. システムは検索APIを呼び出す（GET /search?q=...）
4. 検索結果一覧を表示する
5. 記事を選択すると記事閲覧画面へ遷移する

---

## UC-04 記事を閲覧する

**前提条件**
- ログイン済みである

**操作フロー**

1. ユーザーが記事一覧または検索結果から記事を選択する
2. システムは記事詳細を取得する（GET /articles/{id}）
3. 記事タイトル・本文・タグを表示する

---

## UC-05 記事を新規作成する

**前提条件**
- ログイン済みである

**操作フロー**

1. ユーザーが「新規作成」ボタンを押下する
2. 記事編集画面（新規）を表示する
3. タイトル・本文・フォルダ・タグを入力する
4. 「保存」ボタンを押下する
5. システムは記事を作成する（POST /articles）
6. 記事閲覧画面へ遷移する

---

## UC-06 記事を編集・保存する

**前提条件**
- ログイン済みである
- 編集対象の記事が存在する

**操作フロー**

1. ユーザーが記事閲覧画面で「編集」を押下する
2. 記事編集画面を表示する
3. 内容を編集する
4. 「保存」ボタンを押下する
5. システムは記事を更新する（PUT /articles/{id}）
6. 更新時に記事バージョンを作成する（将来拡張）
7. 記事閲覧画面へ遷移する

---

## UC-07 記事を削除する

**前提条件**
- ログイン済みである

**操作フロー**

1. ユーザーが記事削除操作を行う
2. システムは記事を物理削除する（DELETE /articles/{id}）
3. 記事一覧画面へ遷移する

---

## UC-08 タグを管理する（簡易）

**前提条件**
- ログイン済みである

**操作フロー**

1. ユーザーがタグ管理画面を表示する
2. タグ一覧を取得・表示する（GET /tags）
3. タグを追加する（POST /tags）
4. タグを削除する（DELETE /tags/{id}）

---

## UC-09 フォルダを管理する（簡易）

**前提条件**
- ログイン済みである

**操作フロー**

1. ユーザーがフォルダ管理画面を表示する
2. フォルダ一覧を取得・表示する（GET /folders）
3. フォルダを追加する（POST /folders）
4. フォルダを編集する（PUT /folders/{id}）
5. フォルダを削除する（DELETE /folders/{id}）

---

## 補足

- 本操作フローはMVPスコープに限定する
- 権限管理・共有・複数ユーザー操作は対象外とする
- 操作ログ・バージョン管理は拡張要素として扱う
